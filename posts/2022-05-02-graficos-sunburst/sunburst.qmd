---
title: "Gráfico de estallido solar (sunburst)"
subtitle: En esta entrada se muestra la visualización de información a través de un gráfico de estallido solar (sunburst)
image: "ambos.png"
author:
  - name: "Manuel Spínola"
    url: http://www.icomvis.una.ac.cr/index.php/manuel
    affiliation: ICOMVIS - UNA
    affiliation-url: http://www.icomvis.una.ac.cr/
    orcid: 0000-0002-7839-1908
date: "2022-04-28"
citation: true
toc: true
toc-title: Tabla de contenido
toc-location: left
toc-depth: 4
bibliography: references.bib
lang: es
draft: true
categories:
  - "Gráficos"
  - "Visualización de datos"
---

```{r}
#| mwssage: false
#| warning: false
#| include: false
library(tidyverse)
library(rio)
library(ggsunburst)
library(sunburstR)
library(htmltools)
library(d3r)
library(knitr)
library(plotme)
library(treemapify)
library(echarts4r)
```

```{r}
df <- rio::import("datos.xlsx")
```

```{r}
head(df)
```

```{r}
df_sunburst <- df |>
  count(Universidad_Nacional, Facultad, Categoría, Nombre) |>
  rename(size = n) |>
  unite("z", Universidad_Nacional:Nombre, sep = "-", remove = TRUE)
```

```{r}
df_sunburst
```

```{r}
df_sunburst |>
  sunburst(width="100%", height=400, count = TRUE)
```

```{r}
df_sunburst |>
  sund2b(width="100%", height=400, rootLabel = "Universidad Nacional")
```

```{r}
df %>% 
  count(Universidad_Nacional, Facultad, Categoría, Nombre) %>% 
  count_to_sunburst()
```

```{r}
df %>% 
  count(Facultad, Categoría, Nombre) %>% 
  count_to_treemap()
```
