{
  "hash": "d07e22dc0210bd7cccf556ef47a0e646",
  "result": {
    "markdown": "---\ntitle: \"Análisis de sentimientos\"\ndescription: |\n  El análisis de sentimientos es un proceso de extracción de opiniones que tienen diferentes calificaciones, como positivo, negativo y neutral\nauthor:\n  - name: Manuel Spínola\n    url: http://www.icomvis.una.ac.cr/index.php/manuel\n    affiliation: ICOMVIS - UNA\n    affiliation_url: http://www.icomvis.una.ac.cr/\n    orcid: 0000-0002-7839-1908\ndate: 01/01/2022\ncitation: true\ndraft: false\ncategories:\n  - \"Análisis de sentimientos\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntexto <- readLines(\"rectoria.txt\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntexto\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Por resolución 887-2021 de las nueve horas y cincuenta minutos del 2 de julio de 2021, aún sin notificación formal, el Tribunal Contencioso Administrativo y Civil de Hacienda, dispuso el rechazo de la medida cautelar, en el contexto jurídico del proceso contencioso administrativo interpuesto por las universidades públicas desde el 2019, que se tramita bajo el expediente 19-000375-1028-CA, ante el Tribunal Contencioso Administrativo del Segundo Circuito Judicial de San José en contra del Decreto Ejecutivo n.° 41564-MIDEPLAN-H, Reglamento al Título III de la Ley n.° 9635.\"\n[2] \"Decreto Ejecutivo e interpretación del Título III de la Ley n.° 9635 sobre los cuales se tiene presentada una acción de inconstitucionalidad que se tramita bajo el expediente 20-0028310007-CO en la Sala Constitucional.\"                                                                                                                                                                                                                                                                                                                                                                      \n[3] \"A pesar del rechazo de la medida cautelar, la sentencia indica que se tiene por acreditado el cumplimiento del presupuesto de la \\\"apariencia de buen derecho\\\", lo que significa que se realizó una valoración \\\"sumaria cognitio\\\" (valoración sumaria) y se determinó la seriedad del reclamo, aunque no se prejuzga sobre el mérito del asunto de fondo.\"                                                                                                                                                                                                                                    \n[4] \"Sin embargo, el Tribunal estimó que no se determina la existencia de un peligro grave e irreparable para nuestras instituciones a la espera de obtener una resolución definitiva del proceso.\"                                                                                                                                                                                                                                                                                                                                                                                                   \n[5] \"En consecuencia, es fundamental comprender que la causa judicial queda siempre abierta y pendiente de resolución final, a fin de determinar la aplicabilidad del Decreto Ejecutivo 41564-MIDEPLAN-H y en consecuencia la Ley no. 9635 a nuestras instituciones.\"                                                                                                                                                                                                                                                                                                                                 \n[6] \"No obstante, es importante insistir en la existencia del informe DFOE-SOC-IF-00012-2020, del 8 de diciembre de 2020, emitido por la Contraloría General de la República (CGR), Informe de auditoría de carácter especial sobre los pluses salariales otorgados en la Universidad Nacional de Costa Rica (UNA), que impone la aplicación de la Ley en mención, a pesar de que esta Rectoría haya apelado en dos ocasiones este informe, sin obtener resultados positivos.\"                                                                                                                        \n[7] \"Finalmente, es importante señalar que la resolución se está analizando desde la asesoría jurídica del CONARE, en coordinación con las asesorías de las otras universidades públicas, para valorar nuevas acciones al respecto.\"                                                                                                                                                                                                                                                                                                                                                                  \n[8] \"De igual forma se estará provocando su discusión en el seno de la Comisión de Temas Institucionales del Consejo Universitario, así como se estará sosteniendo una reunión con el SITUN con el objeto de compartir el análisis, dado que figuran como coadyuvantes activos los sindicatos de las universidades públicas en el proceso.\"                                                                                                                                                                                                                                                           \n```\n:::\n:::\n\n### sentimentr\n\n::: {.cell}\n\n```{.r .cell-code}\ntexto_01 <- sentimentr::get_sentences(texto)\ntexto_01\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n[1] \"Por resolución 887-2021 de las nueve horas y cincuenta minutos del 2 de julio de 2021, aún sin notificación formal, el Tribunal Contencioso Administrativo y Civil de Hacienda, dispuso el rechazo de la medida cautelar, en el contexto jurídico del proceso contencioso administrativo interpuesto por las universidades públicas desde el 2019, que se tramita bajo el expediente 19-000375-1028-CA, ante el Tribunal Contencioso Administrativo del Segundo Circuito Judicial de San José en contra del Decreto Ejecutivo n.° 41564-MIDEPLAN-H, Reglamento al Título III de la Ley n.° 9635.\"\n\n[[2]]\n[1] \"Decreto Ejecutivo e interpretación del Título III de la Ley n.° 9635 sobre los cuales se tiene presentada una acción de inconstitucionalidad que se tramita bajo el expediente 20-0028310007-CO en la Sala Constitucional.\"\n\n[[3]]\n[1] \"A pesar del rechazo de la medida cautelar, la sentencia indica que se tiene por acreditado el cumplimiento del presupuesto de la \\\"apariencia de buen derecho\\\", lo que significa que se realizó una valoración \\\"sumaria cognitio\\\" (valoración sumaria) y se determinó la seriedad del reclamo, aunque no se prejuzga sobre el mérito del asunto de fondo.\"\n\n[[4]]\n[1] \"Sin embargo, el Tribunal estimó que no se determina la existencia de un peligro grave e irreparable para nuestras instituciones a la espera de obtener una resolución definitiva del proceso.\"\n\n[[5]]\n[1] \"En consecuencia, es fundamental comprender que la causa judicial queda siempre abierta y pendiente de resolución final, a fin de determinar la aplicabilidad del Decreto Ejecutivo 41564-MIDEPLAN-H y en consecuencia la Ley no. 9635 a nuestras instituciones.\"\n\n[[6]]\n[1] \"No obstante, es importante insistir en la existencia del informe DFOE-SOC-IF-00012-2020, del 8 de diciembre de 2020, emitido por la Contraloría General de la República (CGR), Informe de auditoría de carácter especial sobre los pluses salariales otorgados en la Universidad Nacional de Costa Rica (UNA), que impone la aplicación de la Ley en mención, a pesar de que esta Rectoría haya apelado en dos ocasiones este informe, sin obtener resultados positivos.\"\n\n[[7]]\n[1] \"Finalmente, es importante señalar que la resolución se está analizando desde la asesoría jurídica del CONARE, en coordinación con las asesorías de las otras universidades públicas, para valorar nuevas acciones al respecto.\"\n\n[[8]]\n[1] \"De igual forma se estará provocando su discusión en el seno de la Comisión de Temas Institucionales del Consejo Universitario, así como se estará sosteniendo una reunión con el SITUN con el objeto de compartir el análisis, dado que figuran como coadyuvantes activos los sindicatos de las universidades públicas en el proceso.\"\n\nattr(,\"class\")\n[1] \"get_sentences\"           \"get_sentences_character\"\n[3] \"list\"                   \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsent_01 <- sentimentr::sentiment(texto_01)\nsent_01\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   element_id sentence_id word_count   sentiment\n1:          1           1         82 -0.02208631\n2:          2           1         32  0.00000000\n3:          3           1         56  0.00000000\n4:          4           1         30 -0.10041580\n5:          5           1         37 -0.02465985\n6:          6           1         71 -0.01186782\n7:          7           1         32 -0.04419417\n8:          8           1         52 -0.06933752\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(sent_01)\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n### syuzhet\n\n::: {.cell}\n\n```{.r .cell-code}\ntexto_02 <- syuzhet::get_sentences(texto)\ntexto_02\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Por resolución 887-2021 de las nueve horas y cincuenta minutos del 2 de julio de 2021, aún sin notificación formal, el Tribunal Contencioso Administrativo y Civil de Hacienda, dispuso el rechazo de la medida cautelar, en el contexto jurídico del proceso contencioso administrativo interpuesto por las universidades públicas desde el 2019, que se tramita bajo el expediente 19-000375-1028-CA, ante el Tribunal Contencioso Administrativo del Segundo Circuito Judicial de San José en contra del Decreto Ejecutivo n.° 41564-MIDEPLAN-H, Reglamento al Título III de la Ley n.° 9635.\"\n[2] \"Decreto Ejecutivo e interpretación del Título III de la Ley n.° 9635 sobre los cuales se tiene presentada una acción de inconstitucionalidad que se tramita bajo el expediente 20-0028310007-CO en la Sala Constitucional.\"                                                                                                                                                                                                                                                                                                                                                                      \n[3] \"A pesar del rechazo de la medida cautelar, la sentencia indica que se tiene por acreditado el cumplimiento del presupuesto de la \\\"apariencia de buen derecho\\\", lo que significa que se realizó una valoración \\\"sumaria cognitio\\\" (valoración sumaria) y se determinó la seriedad del reclamo, aunque no se prejuzga sobre el mérito del asunto de fondo.\"                                                                                                                                                                                                                                    \n[4] \"Sin embargo, el Tribunal estimó que no se determina la existencia de un peligro grave e irreparable para nuestras instituciones a la espera de obtener una resolución definitiva del proceso.\"                                                                                                                                                                                                                                                                                                                                                                                                   \n[5] \"En consecuencia, es fundamental comprender que la causa judicial queda siempre abierta y pendiente de resolución final, a fin de determinar la aplicabilidad del Decreto Ejecutivo 41564-MIDEPLAN-H y en consecuencia la Ley no. 9635 a nuestras instituciones.\"                                                                                                                                                                                                                                                                                                                                 \n[6] \"No obstante, es importante insistir en la existencia del informe DFOE-SOC-IF-00012-2020, del 8 de diciembre de 2020, emitido por la Contraloría General de la República (CGR), Informe de auditoría de carácter especial sobre los pluses salariales otorgados en la Universidad Nacional de Costa Rica (UNA), que impone la aplicación de la Ley en mención, a pesar de que esta Rectoría haya apelado en dos ocasiones este informe, sin obtener resultados positivos.\"                                                                                                                        \n[7] \"Finalmente, es importante señalar que la resolución se está analizando desde la asesoría jurídica del CONARE, en coordinación con las asesorías de las otras universidades públicas, para valorar nuevas acciones al respecto.\"                                                                                                                                                                                                                                                                                                                                                                  \n[8] \"De igual forma se estará provocando su discusión en el seno de la Comisión de Temas Institucionales del Consejo Universitario, así como se estará sosteniendo una reunión con el SITUN con el objeto de compartir el análisis, dado que figuran como coadyuvantes activos los sindicatos de las universidades públicas en el proceso.\"                                                                                                                                                                                                                                                           \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsent_02 <- get_sentiment(texto_02, method = \"nrc\", language = \"spanish\")\nsent_02\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] -1  1  1 -7  4  5  4  4\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsent_df <- get_nrc_sentiment(texto_02, lang = \"spanish\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: `spread_()` was deprecated in tidyr 1.2.0.\nPlease use `spread()` instead.\nThis warning is displayed once every 8 hours.\nCall `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsent_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  anger anticipation disgust fear joy sadness surprise trust negative positive\n1     2            2       3    3   0       1        0     4        3        2\n2     0            0       0    0   0       0        0     2        0        1\n3     2            2       2    3   1       4        0     4        3        4\n4     1            2       1    6   0       3        0     1        7        1\n5     0            1       0    0   0       0        0     3        0        4\n6     0            1       0    1   1       0        0     5        1        6\n7     0            1       1    0   1       0        1     4        0        4\n8     0            1       0    0   0       0        0     2        0        4\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb <- sent_df |>\n  dplyr::summarise(across(c(1:8), sum)) |>\n  prop.table()\nb\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       anger anticipation    disgust      fear        joy   sadness   surprise\n1 0.06944444    0.1388889 0.09722222 0.1805556 0.04166667 0.1111111 0.01388889\n      trust\n1 0.3472222\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(b) <- c(\"enfado\", \"anticipación\", \"disgusto\", \"miedo\", \"felicidad\", \"tristeza\", \"sorpresa\", \"confianza\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb_long <- b |> pivot_longer(cols = 1:8, names_to = \"sentimiento\", values_to = \"proporcion\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nb_long$sentimiento <- factor(b_long$sentimiento)\nb_long\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 2\n  sentimiento  proporcion\n  <fct>             <dbl>\n1 enfado           0.0694\n2 anticipación     0.139 \n3 disgusto         0.0972\n4 miedo            0.181 \n5 felicidad        0.0417\n6 tristeza         0.111 \n7 sorpresa         0.0139\n8 confianza        0.347 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(b_long, aes(sentimiento, proporcion)) +\n  theme_minimal() +\n  geom_col(width = 0.02) +\n  geom_point(size = 6, color = \"steelblue\") +\n  geom_text(aes(label = round(proporcion, 2)), color = \"white\", size = 2)\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwordcloud2(data = b_long)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-c46ac21540df68f217f5\" style=\"width:100%;height:464px;\" class=\"wordcloud2 html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c46ac21540df68f217f5\">{\"x\":{\"word\":[\"enfado\",\"anticipación\",\"disgusto\",\"miedo\",\"felicidad\",\"tristeza\",\"sorpresa\",\"confianza\"],\"freq\":[0.0694444444444444,0.138888888888889,0.0972222222222222,0.180555555555556,0.0416666666666667,0.111111111111111,0.0138888888888889,0.347222222222222],\"fontFamily\":\"Segoe UI\",\"fontWeight\":\"bold\",\"color\":\"random-dark\",\"minSize\":0,\"weightFactor\":518.4,\"backgroundColor\":\"white\",\"gridSize\":0,\"minRotation\":-0.785398163397448,\"maxRotation\":0.785398163397448,\"shuffle\":true,\"rotateRatio\":0.4,\"shape\":\"circle\",\"ellipticity\":0.65,\"figBase64\":null,\"hover\":null},\"evals\":[],\"jsHooks\":{\"render\":[{\"code\":\"function(el,x){\\n                        console.log(123);\\n                        if(!iii){\\n                          window.location.reload();\\n                          iii = False;\\n\\n                        }\\n  }\",\"data\":null}]}}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(b_long, aes(label = sentimiento, size = proporcion)) +\n  geom_text_wordcloud() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggwordcloud2(b_long)\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntoks <- tokens(texto)\ntoks\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTokens consisting of 8 documents.\ntext1 :\n [1] \"Por\"        \"resolución\" \"887-2021\"   \"de\"         \"las\"       \n [6] \"nueve\"      \"horas\"      \"y\"          \"cincuenta\"  \"minutos\"   \n[11] \"del\"        \"2\"         \n[ ... and 86 more ]\n\ntext2 :\n [1] \"Decreto\"        \"Ejecutivo\"      \"e\"              \"interpretación\"\n [5] \"del\"            \"Título\"         \"III\"            \"de\"            \n [9] \"la\"             \"Ley\"            \"n\"              \".\"             \n[ ... and 24 more ]\n\ntext3 :\n [1] \"A\"         \"pesar\"     \"del\"       \"rechazo\"   \"de\"        \"la\"       \n [7] \"medida\"    \"cautelar\"  \",\"         \"la\"        \"sentencia\" \"indica\"   \n[ ... and 54 more ]\n\ntext4 :\n [1] \"Sin\"        \"embargo\"    \",\"          \"el\"         \"Tribunal\"  \n [6] \"estimó\"     \"que\"        \"no\"         \"se\"         \"determina\" \n[11] \"la\"         \"existencia\"\n[ ... and 20 more ]\n\ntext5 :\n [1] \"En\"           \"consecuencia\" \",\"            \"es\"           \"fundamental\" \n [6] \"comprender\"   \"que\"          \"la\"           \"causa\"        \"judicial\"    \n[11] \"queda\"        \"siempre\"     \n[ ... and 29 more ]\n\ntext6 :\n [1] \"No\"                     \"obstante\"               \",\"                     \n [4] \"es\"                     \"importante\"             \"insistir\"              \n [7] \"en\"                     \"la\"                     \"existencia\"            \n[10] \"del\"                    \"informe\"                \"DFOE-SOC-IF-00012-2020\"\n[ ... and 71 more ]\n\n[ reached max_ndoc ... 2 more documents ]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntokens_lookup(toks, data_dictionary_LSD2015, nested_scope = \"dictionary\", exclusive = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTokens consisting of 8 documents.\ntext1 :\n [1] \"Por\"        \"resolución\" \"887-2021\"   \"de\"         \"las\"       \n [6] \"nueve\"      \"horas\"      \"y\"          \"cincuenta\"  \"minutos\"   \n[11] \"del\"        \"2\"         \n[ ... and 86 more ]\n\ntext2 :\n [1] \"Decreto\"        \"Ejecutivo\"      \"e\"              \"interpretación\"\n [5] \"del\"            \"Título\"         \"III\"            \"de\"            \n [9] \"la\"             \"Ley\"            \"n\"              \".\"             \n[ ... and 24 more ]\n\ntext3 :\n [1] \"A\"         \"pesar\"     \"del\"       \"rechazo\"   \"de\"        \"la\"       \n [7] \"medida\"    \"cautelar\"  \",\"         \"la\"        \"sentencia\" \"indica\"   \n[ ... and 54 more ]\n\ntext4 :\n [1] \"NEGATIVE\"   \"embargo\"    \",\"          \"el\"         \"Tribunal\"  \n [6] \"estimó\"     \"que\"        \"no\"         \"se\"         \"POSITIVE\"  \n[11] \"la\"         \"existencia\"\n[ ... and 20 more ]\n\ntext5 :\n [1] \"En\"           \"consecuencia\" \",\"            \"es\"           \"fundamental\" \n [6] \"comprender\"   \"que\"          \"la\"           \"causa\"        \"judicial\"    \n[11] \"queda\"        \"siempre\"     \n[ ... and 29 more ]\n\ntext6 :\n [1] \"No\"                     \"obstante\"               \",\"                     \n [4] \"es\"                     \"importante\"             \"insistir\"              \n [7] \"en\"                     \"la\"                     \"existencia\"            \n[10] \"del\"                    \"informe\"                \"DFOE-SOC-IF-00012-2020\"\n[ ... and 71 more ]\n\n[ reached max_ndoc ... 2 more documents ]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npol <- textstat_polarity(toks, data_dictionary_LSD2015)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npolarity(data_dictionary_LSD2015) <- \n  list(pos = c(\"positive\", \"neg_negative\"), neg = c(\"negative\", \"neg_positive\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsent_pres <- data_corpus_inaugural %>%\n  corpus_subset(Year > 1970) %>%\n  textstat_polarity(data_dictionary_LSD2015)\nsent_pres\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         doc_id sentiment\n1    1973-Nixon 1.1936392\n2   1977-Carter 1.2906900\n3   1981-Reagan 0.8246340\n4   1985-Reagan 0.9537313\n5     1989-Bush 1.2615736\n6  1993-Clinton 0.5629847\n7  1997-Clinton 0.7308875\n8     2001-Bush 0.8826607\n9     2005-Bush 0.8987976\n10   2009-Obama 0.4903646\n11   2013-Obama 0.8262646\n12   2017-Trump 0.9848534\n13   2021-Biden 0.4660002\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\nggplot(pol) +\n    geom_point(aes(x = sentiment, y = reorder(doc_id, sentiment))) +\n    ylab(\"\")\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\nggplot(sent_pres) +\n    geom_point(aes(x = sentiment, y = reorder(doc_id, sentiment))) +\n    ylab(\"\")\n```\n\n::: {.cell-output-display}\n![](sentiment-analysis_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::",
    "supporting": [
      "sentiment-analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/wordcloud2-0.0.1/wordcloud.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/wordcloud2-0.0.1/wordcloud2-all.js\"></script>\n<script src=\"../../site_libs/wordcloud2-0.0.1/hover.js\"></script>\n<script src=\"../../site_libs/wordcloud2-binding-0.2.1/wordcloud2.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}